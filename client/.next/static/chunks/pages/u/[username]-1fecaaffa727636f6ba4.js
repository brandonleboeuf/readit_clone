_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{A3jn:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/u/[username]",function(){return r("zVvI")}])},CQ3q:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("nKUr");function s(e){var t=e.children;return Object(n.jsx)("div",{className:"px-1 py-1 mr-1 text-xs text-gray-400 rounded cursor-pointer hover:bg-gray-200",children:t})}},QgiU:function(e,t,r){e.exports=function(){"use strict";return function(e,t,r){e=e||{};var n=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,r,s){return n.fromToBase(e,t,r,s)}r.en.relativeTime=s,n.fromToBase=function(t,n,i,a,c){for(var u,o,l,d=i.$locale().relativeTime||s,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=h.length,m=0;m<f;m+=1){var j=h[m];j.d&&(u=a?r(t).diff(i,j.d,!0):i.diff(t,j.d,!0));var x=(e.rounding||Math.round)(Math.abs(u));if(l=u>0,x<=j.r||!j.r){x<=1&&m>0&&(j=h[m-1]);var p=d[j.l];c&&(x=c(""+x)),o="string"==typeof p?p.replace("%d",x):p(x,n,j.l,l);break}}if(n)return o;var b=l?d.future:d.past;return"function"==typeof b?b(o):b.replace("%s",o)},n.to=function(e,t){return i(e,t,this,!0)},n.from=function(e,t){return i(e,t,this)};var a=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(a(this),e)},n.fromNow=function(e){return this.from(a(this),e)}}}()},TSYQ:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=s.apply(null,n);a&&e.push(a)}else if("object"===i)for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},Wgwc:function(e,t,r){e.exports=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",s="day",i="week",a="month",c="quarter",u="year",o="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},m={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),s=r%60;return(t<=0?"+":"-")+f(n,2,"0")+":"+f(s,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),s=t.clone().add(n,a),i=r-s<0,c=t.clone().add(n+(i?-1:1),a);return+(-(n+(r-s)/(i?s-c:c-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:a,y:u,w:i,d:s,D:o,h:n,m:r,s:t,ms:e,Q:c}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},j="en",x={};x[j]=h;var p=function(e){return e instanceof y},b=function(e,t,r){var n;if(!e)return j;if("string"==typeof e)x[e]&&(n=e),t&&(x[e]=t,n=e);else{var s=e.name;x[s]=e,n=s}return!r&&n&&(j=n),n||!r&&j},v=function(e,t){if(p(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new y(r)},O=m;O.l=b,O.i=p,O.w=function(e,t){return v(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var y=function(){function h(e){this.$L=b(e.locale,null,!0),this.parse(e)}var f=h.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(O.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(l);if(n){var s=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return O},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(e,t){var r=v(e);return this.startOf(t)<=r&&r<=this.endOf(t)},f.isAfter=function(e,t){return v(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<v(e)},f.$g=function(e,t,r){return O.u(e)?this[t]:this.set(r,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,c){var l=this,d=!!O.u(c)||c,h=O.p(e),f=function(e,t){var r=O.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return d?r:r.endOf(s)},m=function(e,t){return O.w(l.toDate()[e].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},j=this.$W,x=this.$M,p=this.$D,b="set"+(this.$u?"UTC":"");switch(h){case u:return d?f(1,0):f(31,11);case a:return d?f(1,x):f(0,x+1);case i:var v=this.$locale().weekStart||0,y=(j<v?j+7:j)-v;return f(d?p-y:p+(6-y),x);case s:case o:return m(b+"Hours",0);case n:return m(b+"Minutes",1);case r:return m(b+"Seconds",2);case t:return m(b+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(i,c){var l,d=O.p(i),h="set"+(this.$u?"UTC":""),f=(l={},l[s]=h+"Date",l[o]=h+"Date",l[a]=h+"Month",l[u]=h+"FullYear",l[n]=h+"Hours",l[r]=h+"Minutes",l[t]=h+"Seconds",l[e]=h+"Milliseconds",l)[d],m=d===s?this.$D+(c-this.$W):c;if(d===a||d===u){var j=this.clone().set(o,1);j.$d[f](m),j.init(),this.$d=j.set(o,Math.min(this.$D,j.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[O.p(e)]()},f.add=function(e,c){var o,l=this;e=Number(e);var d=O.p(c),h=function(t){var r=v(l);return O.w(r.date(r.date()+Math.round(t*e)),l)};if(d===a)return this.set(a,this.$M+e);if(d===u)return this.set(u,this.$y+e);if(d===s)return h(1);if(d===i)return h(7);var f=(o={},o[r]=6e4,o[n]=36e5,o[t]=1e3,o)[d]||1,m=this.$d.getTime()+e*f;return O.w(m,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=O.z(this),s=this.$locale(),i=this.$H,a=this.$m,c=this.$M,u=s.weekdays,o=s.months,l=function(e,n,s,i){return e&&(e[n]||e(t,r))||s[n].substr(0,i)},h=function(e){return O.s(i%12||12,e,"0")},f=s.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:O.s(c+1,2,"0"),MMM:l(s.monthsShort,c,o,3),MMMM:l(o,c),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:l(s.weekdaysMin,this.$W,u,2),ddd:l(s.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:O.s(i,2,"0"),h:h(1),hh:h(2),a:f(i,a,!0),A:f(i,a,!1),m:String(a),mm:O.s(a,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:n};return r.replace(d,(function(e,t){return t||m[e]||n.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(e,o,l){var d,h=O.p(o),f=v(e),m=6e4*(f.utcOffset()-this.utcOffset()),j=this-f,x=O.m(this,f);return x=(d={},d[u]=x/12,d[a]=x,d[c]=x/3,d[i]=(j-m)/6048e5,d[s]=(j-m)/864e5,d[n]=j/36e5,d[r]=j/6e4,d[t]=j/1e3,d)[h]||j,l?x:O.a(x)},f.daysInMonth=function(){return this.endOf(a).$D},f.$locale=function(){return x[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=b(e,t,!0);return n&&(r.$L=n),r},f.clone=function(){return O.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},h}(),g=y.prototype;return v.prototype=g,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W",s],["$M",a],["$y",u],["$D",o]].forEach((function(e){g[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),v.extend=function(e,t){return e.$i||(e(t,y,v),e.$i=!0),v},v.locale=b,v.isDayjs=p,v.unix=function(e){return v(1e3*e)},v.en=x[j],v.Ls=x,v.p={},v}()},g4pe:function(e,t,r){e.exports=r("8Kt/")},j8Pq:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("nKUr"),s=r("o0o1"),i=r.n(s),a=r("HaE+"),c=r("YFqc"),u=r.n(c),o=r("Wgwc"),l=r.n(o),d=r("TSYQ"),h=r.n(d),f=r("QgiU"),m=r.n(f),j=r("vDqi"),x=r.n(j),p=r("CQ3q"),b=r("M36i"),v=r("20a2");function O(e){var t=e.post,r=t.identifier,s=t.slug,c=t.title,o=t.body,d=t.subName,f=t.createdAt,m=t.voteScore,j=t.userVote,O=t.commentCount,y=t.url,g=t.username,$=t.sub,w=e.revalidate,N=Object(b.c)().authenticated,M=Object(v.useRouter)(),D=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N||M.push("/login"),t===j&&(t=0),e.prev=2,e.next=5,x.a.post("/misc/vote",{identifier:r,slug:s,value:t});case 5:e.sent,w&&w(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"flex mb-4 bg-white rounded",id:r,children:[Object(n.jsxs)("div",{className:"w-10 py-3 text-center bg-gray-200 rounded-l",children:[Object(n.jsx)("div",{className:"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500",onClick:function(){return D(1)},children:Object(n.jsx)("i",{className:h()("icon-arrow-up",{"text-red-500":1===j})})}),Object(n.jsx)("p",{className:"text-xs font-bold",children:m}),Object(n.jsx)("div",{className:"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600",onClick:function(){return D(-1)},children:Object(n.jsx)("i",{className:h()("icon-arrow-down",{"text-blue-600":-1===j})})})]}),Object(n.jsxs)("div",{className:"w-full p-2",children:[Object(n.jsxs)("div",{className:"flex items-center",children:[$?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u.a,{href:"/r/".concat(d),children:Object(n.jsx)("img",{src:$.imageUrl,className:"w-6 h-6 mr-1 rounded-full cursor-pointer"})}),Object(n.jsx)(u.a,{href:"/r/".concat(d),children:Object(n.jsxs)("a",{className:"text-xs font-bold cursor-pointer hover:underline",children:["/r/",d]})}),Object(n.jsx)("span",{className:"mx-1 text-xs text-gray-500",children:"\u2022"})]}):null,Object(n.jsxs)("p",{className:"text-xs text-gray-500",children:["Posted by",Object(n.jsx)(u.a,{href:"/u/".concat(g),children:Object(n.jsxs)("a",{className:"mx-1 hover:underline",children:["/u/",g]})}),Object(n.jsx)(u.a,{href:y,children:Object(n.jsx)("a",{className:"mx-1 hover:underline",children:l()(f).fromNow()})})]})]}),Object(n.jsx)(u.a,{href:y,children:Object(n.jsx)("a",{className:"my-1 text-lg font-medium",children:c})}),o&&Object(n.jsx)("p",{className:"my-1 overflow-hidden text-sm",style:{maxHeight:"90px"},children:o}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(u.a,{href:y,children:Object(n.jsx)("a",{children:Object(n.jsxs)(p.a,{children:[Object(n.jsx)("i",{className:"mr-1 fas fa-comment-alt fa-xs"}),Object(n.jsxs)("span",{className:"font-bold",children:[O," comments"]})]})})}),Object(n.jsxs)(p.a,{children:[Object(n.jsx)("i",{className:"mr-1 fas fa-share fa-xs"}),Object(n.jsx)("span",{className:"font-bold",children:"share"})]}),Object(n.jsxs)(p.a,{children:[Object(n.jsx)("i",{className:"mr-1 fas fa-bookmark fa-xs"}),Object(n.jsx)("span",{className:"font-bold",children:"save"})]})]})]})]},r)}l.a.extend(m.a)},zVvI:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r("nKUr"),s=r("o0o1"),i=r.n(s),a=r("HaE+"),c=r("q1tI"),u=r("Wgwc"),o=r.n(u),l=r("g4pe"),d=r.n(l),h=r("YFqc"),f=r.n(h),m=r("20a2"),j=r("VtrM"),x=r("vDqi"),p=r.n(x),b=r("TSYQ"),v=r.n(b),O=r("j8Pq"),y=r("M36i");function g(){var e=Object(m.useRouter)(),t=e.query.username,r=Object(c.useState)(!1),s=r[0],u=r[1],l=Object(y.c)(),h=l.authenticated,x=l.user,b=Object(c.createRef)(),g=Object(j.b)(t?"/users/".concat(t):null),$=g.data,w=g.error,N=g.revalidate;w&&e.push("/"),Object(c.useEffect)((function(){$&&u(h&&(x.username===$.user.username||"brandon"===x.username))}),[$]);var M=function(){var e=Object(a.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(n=new FormData).append("file",r),n.append("type",b.current.name),console.log(n),e.prev=5,e.next=8,p.a.post("/users/".concat($.user.username,"/image"),n,{headers:{"Content-Type":"multipart/form-data"}});case 8:N(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)("title",{children:null===$||void 0===$?void 0:$.user.username})}),$&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{type:"file",hidden:!0,ref:b,onChange:M}),Object(n.jsxs)("div",{className:"container flex pt-5",children:[Object(n.jsx)("div",{className:"w-160",children:$.submissions.map((function(e){if("Post"===e.type){var t=e;return Object(n.jsx)(O.a,{post:t},t.identifier)}var r=e;return Object(n.jsxs)("div",{className:"flex my-4 bg-white rounded",children:[Object(n.jsx)("div",{className:"flex-shrink-0 w-10 py-4 text-center bg-gray-200 rounded-l",children:Object(n.jsx)("i",{className:"text-gray-500 fas fa-comment-alt fa-xs"})}),Object(n.jsxs)("div",{className:"w-full p-2",children:[Object(n.jsxs)("p",{className:"mb-2 text-xs text-gray-500",children:[r.username,Object(n.jsx)("span",{children:" commented on "}),Object(n.jsx)(f.a,{href:r.post.url,children:Object(n.jsx)("a",{className:"font-semibold curser-pointer hover:underline",children:r.post.title})}),Object(n.jsx)("span",{className:"mx-1",children:"\u2022"}),Object(n.jsx)(f.a,{href:"/r/".concat(r.post.subName),children:Object(n.jsxs)("a",{className:"text-black curser-pointer hover:underline",children:["/r/",r.post.subName]})})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:r.body})]})]},r.identifier)}))}),Object(n.jsx)("div",{className:"ml-6 w-80",children:Object(n.jsxs)("div",{className:"bg-white rounded",children:[Object(n.jsx)("div",{className:"items-center p-3 rounded-t",children:Object(n.jsx)("img",{src:$.user.profileImageUrl,alt:"user profile",className:v()("mx-auto rounded",{"cursor-pointer":s}),onClick:function(){s&&(b.current.name="profileImageUrl",b.current.click())}})}),Object(n.jsxs)("div",{className:"p-3 text-center",children:[Object(n.jsx)("h1",{className:"mb-3 text-xl",children:$.user.username}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{className:"mt-3",children:["Joined ",o()($.user.createdAt).format("MMM YYYY")]})]})]})})]})]})]})}}},[["A3jn",0,2,1,3,4]]]);